
<!DOCTYPE html>
<html>

    <head>
        
        <title>Login Page</title>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    </head>

    <body>
            
        <div id="errorMessage"></div>

        <p id = "disbalance" ></p>

        <form action = "/df">
            <h3> <b>First name</b></h3> <br>
    
            <input type = "text", id = "firstname" , placeholder="Firstname">

            <button id ="button">click here</button>

            <h3> <b>Last name</b></h3> <br>
            
            <input type = "text", id = "Lastname" , placeholder="Lastname">

            <h3> <b>Address</b></h3> <br>
            
            <input type = "text", id = "Address" , placeholder="Address">

            <h3> <b>Email</b></h3> <br>
            
            <input type = "text", id = "Email" , placeholder="e.g john@gmail.com">

            <h3> <b>Phone Number</b></h3> <br>
            
            <input type = "text", id = "Number" , placeholder="e.g 09087865543">

            <h3> <b>Deposit amount</b></h3> <br>
            
            <input type = "text", id = "Balance" , placeholder="1000">

            <h3> <b>Date created</b></h3> <br>
            
            <input type = "date" min='1899-01-01' max='2000-13-13', id = "Date">


        </form>
        
        <script type="text/javascript">
            
            document.getElementById("button").onclick = function (e){
                e.preventDefault() // i dont know how this works
                var a = document.getElementById("firstname").value ; // why does this work without the need for the apostrophes
               
                var b = document.getElementById("Lastname").value ;

                var c = document.getElementById("Address").value ;

                var d = document.getElementById("Email").value ;

                var e = document.getElementById("Number").value ;

                var f = document.getElementById("Balance").value ;

                var g = document.getElementById("Date").value ;

                var list ={firstname:a,
                            Lastname:b,
                            Address:c,
                            Email:d,
                            Phone:e,
                            Balance:f +1000,
                            Date_created:g
                        
                    };
                    console.log(list);

                    var final_balance =  list.Balance; //final balance after the addition of the 1000
 
                    console.log(final_balance);

                    document.getElementById("disbalance").innerHTML = "Your former balance was N1000, your new balance is " + final_balance;

                
            }



            function isEmail(email) {
  
                var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
  
                return regex.test(email);
                
            }              

            function isDate(date) {
  
            var regex2 = /^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;

            return regex2.test(date);
  
        }

            $("#button").click(function(c) {

                c.preventDefault();
                
                var errorMessage = "";
                var fieldsMissing = "";
                
                if ($("#firstname").val() == "") {
                    
                    fieldsMissing += "<br>First name";
                    
                }          
                if ($("#Lastname").val() == "") {
                    
                    fieldsMissing += "<br>Last name";
                    
                }

                if ($("Address").val() == "") {
                    
                    fieldsMissing += "<br>Address";
                    
                }

                if ($("#Email").val() == "") {
                    
                    fieldsMissing += "<br>Email";
                    
                }  

                if ($("#Number").val() == "") {
                    
                    fieldsMissing += "<br>Number";
                    
                }

                 if ($("#Balance").val() == "") {
                    
                    fieldsMissing += "<br>Balance";
                    
                }

                if ($("#Date").val() == "") {
                    
                    fieldsMissing += "<br>Date";
                    
                }     

                if (fieldsMissing != "") {
                    
                    errorMessage += "<p>The following field(s) are missing:" + fieldsMissing;
                    
                }     



                if (isEmail($("#Email").val()) == false) {
                    
                    errorMessage += "<p>Your email address is not valid</p>";
                    
                }  

                if ($.isNumeric($("#Number").val()) == false) {
                    
                    errorMessage += "<p>Your phone number is not numeric</p>"
                    
                }   

                var y = document.getElementById("firstname").value

               alert (typeof y)

                if (typeof a != "string") {
                    
                    errorMessage += "<p>Your name is not valid</p>"
                    
                }                           
           
 
              //  if ($.isLetter($("#Lastname").val()) == false) {
                    
               //     errorMessage += "<p>Your phone number is not numeric</p>"
                    
               // }

             if ($.isNumeric($("#Balance").val()) == false) {
                    
                    errorMessage += "<p>Your phone number is not numeric</p>"
                    
                }
    
              //  if ($.isLetter($("#Address").val()) == false) {
                    
              //      errorMessage += "<p>Your phone number is not numeric</p>"
                    
              //  }

                /*if ($isDate($("Date").val()) == false) {
                    
                    errorMessage += "<p>Your phone number is not numeric</p>"
                    
                }
*/
                if (errorMessage != "") {
                    
                    $("#errorMessage").html(errorMessage);

                }
    

            })

            // if you do two functions that performs the same task you will be overwritting the first one 
            // label tag will have made it better
        </script>
        
    </body>

</html>